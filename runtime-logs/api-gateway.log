
> api-gateway@1.0.0 dev
> nodemon src/index.js

[33m[nodemon] 3.1.11[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node src/index.js`[39m
API Gateway running on port 4000
[0mGET /api/books?page=1&limit=8 [0m-[0m - ms - -[0m
[0mGET /api/books/categories [0m-[0m - ms - -[0m
[0mGET /api/books?page=1&limit=8 [32m200[0m 15.104 ms - 4310[0m
[0mGET /api/books/categories [32m200[0m 8.203 ms - 1445[0m
[0mGET /api/admin/stats [33m401[0m 5.278 ms - 28[0m
[0mGET /api/admin/users [33m401[0m 0.779 ms - 28[0m
[0mGET /api/categories [33m401[0m 0.914 ms - 28[0m
[0mGET /api/books [36m304[0m 7.355 ms - -[0m
[0mPOST /api/auth/login [33m401[0m 163.103 ms - 36[0m
[0mPOST /api/auth/login [32m200[0m 131.743 ms - 682[0m
[0mGET /api/books [36m304[0m 14.268 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 35.406 ms - -[0m
[0mGET /api/admin/users [32m200[0m 25.342 ms - 1305[0m
[0mGET /api/categories [36m304[0m 23.268 ms - -[0m
[0mGET /api/books [36m304[0m 9.822 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 20.692 ms - -[0m
[0mGET /api/admin/users [36m304[0m 19.640 ms - -[0m
[0mGET /api/categories [36m304[0m 19.785 ms - -[0m
[0mGET /api/books [36m304[0m 6.356 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 16.407 ms - -[0m
[0mGET /api/admin/users [36m304[0m 18.794 ms - -[0m
[0mGET /api/categories [36m304[0m 17.423 ms - -[0m
[0mGET /api/books [36m304[0m 10.519 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 20.152 ms - -[0m
[0mGET /api/admin/users [36m304[0m 21.506 ms - -[0m
[0mGET /api/categories [36m304[0m 20.353 ms - -[0m
[0mGET /api/books [36m304[0m 4.906 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 13.688 ms - -[0m
[0mGET /api/admin/users [36m304[0m 13.571 ms - -[0m
[0mGET /api/categories [36m304[0m 15.615 ms - -[0m
[0mGET /api/admin/orders [36m304[0m 11.296 ms - -[0m
[0mGET /api/admin/orders [36m304[0m 7.919 ms - -[0m
[0mGET /api/admin/orders [36m304[0m 10.891 ms - -[0m
[0mGET /api/admin/orders [36m304[0m 9.033 ms - -[0m
[0mGET /api/admin/orders [36m304[0m 7.437 ms - -[0m
[0mGET /api/admin/orders [36m304[0m 10.793 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 29.101 ms - -[0m
[0mGET /api/books/categories [36m304[0m 38.283 ms - -[0m
[0mGET /api/books?page=1&limit=8&categorieId=692871b09bcf03ce0ba17d7f [36m304[0m 7.005 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 4.074 ms - -[0m
[0mGET /api/books?page=1&limit=8&categorieId=692871b09bcf03ce0ba17d79 [32m200[0m 3.524 ms - 1131[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 3.953 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 4.731 ms - -[0m
[0mGET /api/books/categories [36m304[0m 5.245 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 5.795 ms - -[0m
[0mGET /api/books/categories [36m304[0m 7.360 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 8.186 ms - -[0m
[0mGET /api/books/categories [36m304[0m 11.468 ms - -[0m
[0mGET /api/admin/orders [36m304[0m 10.066 ms - -[0m
[0mGET /api/api/stats/summary [33m404[0m 2.828 ms - 160[0m
[0mGET /api/api/stats/sales [33m404[0m 0.282 ms - 158[0m
[0mGET /api/api/stats/categories [33m404[0m 0.173 ms - 163[0m
[0mGET /api/api/stats/summary [33m404[0m 0.570 ms - 160[0m
[0mGET /api/api/stats/sales [33m404[0m 0.588 ms - 158[0m
[0mGET /api/api/stats/categories [33m404[0m 0.177 ms - 163[0m
[0mGET /api/api/stats/summary [33m404[0m 0.297 ms - 160[0m
[0mGET /api/api/stats/sales [33m404[0m 0.228 ms - 158[0m
[0mGET /api/api/stats/categories [33m404[0m 0.931 ms - 163[0m
[0mGET /api/stats/summary [33m404[0m 0.499 ms - 156[0m
[0mGET /api/stats/sales [33m404[0m 0.158 ms - 154[0m
[0mGET /api/stats/categories [33m404[0m 0.112 ms - 159[0m
[0mGET /api/stats/summary [33m404[0m 0.182 ms - 156[0m
[0mGET /api/stats/sales [33m404[0m 0.335 ms - 154[0m
[0mGET /api/stats/categories [33m404[0m 0.148 ms - 159[0m
[0mGET /api/stats/summary [33m404[0m 0.544 ms - 156[0m
[0mGET /api/stats/sales [33m404[0m 0.333 ms - 154[0m
[0mGET /api/stats/categories [33m404[0m 0.549 ms - 159[0m
[0mGET /api/stats/summary [33m404[0m 1.075 ms - 156[0m
[0mGET /api/stats/sales [33m404[0m 0.698 ms - 154[0m
[0mGET /api/stats/categories [33m404[0m 0.544 ms - 159[0m
[0mGET /api/stats/summary [33m404[0m 0.457 ms - 156[0m
[0mGET /api/stats/sales [33m404[0m 0.214 ms - 154[0m
[0mGET /api/stats/categories [33m404[0m 1.489 ms - 159[0m
[0mGET /api/stats/summary [33m404[0m 1.282 ms - 156[0m
[0mGET /api/stats/sales [33m404[0m 0.322 ms - 154[0m
[0mGET /api/stats/categories [33m404[0m 0.459 ms - 159[0m
[0mGET /api/stats/summary [33m404[0m 0.521 ms - 156[0m
[0mGET /api/stats/sales [33m404[0m 0.872 ms - 154[0m
[0mGET /api/stats/categories [33m404[0m 2.630 ms - 159[0m
[0mGET /api/admin/stats [36m304[0m 31.944 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 43.053 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 14.033 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 13.106 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 10.955 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 12.583 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 12.369 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 12.935 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 16.357 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 10.665 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 9.636 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 10.247 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 9.658 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 9.839 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 9.743 ms - -[0m
[0mGET /api/admin/stats [32m200[0m 66.435 ms - 3179[0m
[0mGET /api/admin/stats [36m304[0m 20.354 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 17.677 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 17.513 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 26.450 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 16.930 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 11.992 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 10.671 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 12.125 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 11.818 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 10.398 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 10.544 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 11.526 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 10.029 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 11.979 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 10.418 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 9.348 ms - -[0m
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
[0mGET /api/admin/stats [36m304[0m 18.104 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 13.298 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 12.889 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 15.484 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 20.557 ms - -[0m
[0mGET /api/books/categories [36m304[0m 22.586 ms - -[0m
[0mGET /api/payment-methods [32m200[0m 76.343 ms - 2[0m
[0mGET /api/users/me [32m200[0m 90.693 ms - 421[0m
[0mGET /api/orders [32m200[0m 97.047 ms - 4227[0m
[0mGET /api/orders [36m304[0m 9.534 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 8.575 ms - -[0m
[0mGET /api/books/categories [36m304[0m 10.527 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 14.399 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 17.235 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 9.975 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 11.052 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 11.691 ms - -[0m
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
[0mGET /api/admin/stats [36m304[0m 12.618 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 13.099 ms - -[0m
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
[0mPOST /api/auth/login [33m401[0m 132.050 ms - 36[0m
[0mGET /api/books/categories [36m304[0m 11.380 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 22.655 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 16.523 ms - -[0m
[0mGET /api/books/categories [36m304[0m 19.113 ms - -[0m
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
Error: Not allowed by CORS
    at origin (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:33:21)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:219:13
    at optionsCallback (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:199:9)
    at corsMiddleware (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/cors/lib/index.js:204:7)
    at Layer.handle [as handle_request] (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:328:13)
    at /Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:286:9
    at router.process_params (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/router/index.js:280:10)
    at expressInit (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/middleware/init.js:40:5)
[0mPOST /api/auth/login [32m200[0m 124.319 ms - 682[0m
[0mGET /api/users/me [32m200[0m 19.837 ms - 421[0m
[0mGET /api/cart [33m404[0m 0.219 ms - 147[0m
[0mGET /api/admin/stats [32m200[0m 9.874 ms - 3179[0m
[0mGET /api/users/me [36m304[0m 15.215 ms - -[0m
[0mGET /api/orders [36m304[0m 12.398 ms - -[0m
[0mGET /api/payment-methods [36m304[0m 14.420 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 11.800 ms - -[0m
[0mGET /api/users/me [36m304[0m 6.005 ms - -[0m
[0mGET /api/cart [33m404[0m 0.192 ms - 147[0m
[0mGET /api/users/me [36m304[0m 6.015 ms - -[0m
[0mGET /api/cart [33m404[0m 0.243 ms - 147[0m
[0mGET /api/admin/stats [36m304[0m 10.903 ms - -[0m
[0mGET /api/users/me [36m304[0m 6.868 ms - -[0m
[0mGET /api/cart [33m404[0m 0.171 ms - 147[0m
[0mGET /api/admin/stats [36m304[0m 12.221 ms - -[0m
[0mGET /api/books?page=1&limit=8 [32m200[0m 6.775 ms - 4310[0m
[0mGET /api/books/categories [32m200[0m 7.449 ms - 1445[0m
[0mGET /api/admin/stats [36m304[0m 11.921 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 9.546 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 10.351 ms - -[0m
[0mGET /api/books/categories [36m304[0m 5.520 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 11.434 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 8.948 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 9.533 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 16.625 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 10.310 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 7.808 ms - -[0m
[0mGET /api/books/categories [36m304[0m 9.549 ms - -[0m
[0mGET / [32m200[0m 22.617 ms - 48[0m
[0mGET /api/users/me [33m401[0m 3.895 ms - 28[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 73.789 ms - -[0m
[0mGET /api/books/categories [36m304[0m 81.608 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 15.002 ms - -[0m
[0mGET /api/books/categories [36m304[0m 17.738 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 136.009 ms - 682[0m
[0mGET / [32m200[0m 0.177 ms - 48[0m
[0mGET /api/users/me [32m200[0m 17.381 ms - 421[0m
[0mGET /api/cart [33m404[0m 0.924 ms - 147[0m
[0mGET /api/admin/stats [32m200[0m 43.177 ms - 3177[0m
[0mGET /api/books?limit=200 [32m200[0m 10.406 ms - 9329[0m
[0mGET /api/categories [36m304[0m 10.690 ms - -[0m
[0mGET /api/categories [36m304[0m 4.356 ms - -[0m
[0mGET /api/books?limit=200 [36m304[0m 8.444 ms - -[0m
[0mGET /api/users/me [36m304[0m 7.997 ms - -[0m
[0mGET /api/categories [36m304[0m 5.677 ms - -[0m
[0mGET /api/books?limit=200 [36m304[0m 10.758 ms - -[0m
[0mGET /api/cart [33m404[0m 0.215 ms - 147[0m
[0mGET /api/admin/stats [36m304[0m 10.209 ms - -[0m
[0mGET /api/users/me [36m304[0m 6.679 ms - -[0m
[0mGET /api/cart [33m404[0m 0.255 ms - 147[0m
[0mGET /api/admin/stats [36m304[0m 10.670 ms - -[0m
[0mGET /api/categories [36m304[0m 7.344 ms - -[0m
[0mGET /api/books?limit=200 [36m304[0m 11.884 ms - -[0m
[0mGET /api/users/me [36m304[0m 22.046 ms - -[0m
[0mGET /api/books?limit=200 [36m304[0m 12.223 ms - -[0m
[0mGET /api/categories [36m304[0m 9.428 ms - -[0m
[0mGET /api/cart [33m404[0m 0.368 ms - 147[0m
[0mGET /api/users/me [36m304[0m 6.176 ms - -[0m
[0mGET /api/cart [33m404[0m 0.222 ms - 147[0m
[0mGET /api/admin/stats [36m304[0m 13.632 ms - -[0m
[0mGET /api/categories [36m304[0m 6.589 ms - -[0m
[0mGET /api/books?limit=200 [36m304[0m 10.992 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 6.020 ms - -[0m
[0mGET /api/books/categories [36m304[0m 9.022 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 14.274 ms - -[0m
[0mGET /api/admin/users [32m200[0m 9.696 ms - 1305[0m
[0mGET /api/admin/stats [36m304[0m 13.425 ms - -[0m
[0mGET /api/admin/orders [36m304[0m 24.366 ms - -[0m
[0mGET /api/admin/stats [36m304[0m 14.761 ms - -[0m
[0mGET /api/admin/users [36m304[0m 6.436 ms - -[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
node:events:486
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::4000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:153:5)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1976:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 4000
}

Node.js v24.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
node:events:486
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::4000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:154:5)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1976:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 4000
}

Node.js v24.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
node:events:486
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::4000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:195:5)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1976:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 4000
}

Node.js v24.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
node:events:486
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::4000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:196:5)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1976:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 4000
}

Node.js v24.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
node:events:486
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::4000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at app.listen (/Users/tahachakouat/Documents/rcw 3/api-gateway/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/Users/tahachakouat/Documents/rcw 3/api-gateway/src/index.js:196:5)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1976:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 4000
}

Node.js v24.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
API Gateway running on port 4000
[0mGET /api/users/me [36m304[0m 14.405 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 48.411 ms - -[0m
[0mGET /api/books/categories [36m304[0m 22.884 ms - -[0m
[0mGET /api/cart [36m304[0m 1.053 ms - -[0m
[0mGET /api/users/me [36m304[0m 7.057 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 18.398 ms - -[0m
[0mGET /api/books/categories [36m304[0m 18.047 ms - -[0m
[0mGET /api/cart [36m304[0m 0.565 ms - -[0m
Proxy error to http://localhost:8010/chat Error
[0mPOST /api/chatbot [31m500[0m 4.788 ms - 39[0m
[0mGET /api/users/me [36m304[0m 6.455 ms - -[0m
[0mGET /api/books?page=1&limit=8 [36m304[0m 14.677 ms - -[0m
[0mGET /api/books/categories [36m304[0m 18.931 ms - -[0m
[0mGET /api/cart [36m304[0m 0.593 ms - -[0m
Proxy error to http://localhost:8010/chat Error
[0mPOST /api/chatbot [31m500[0m 2.999 ms - 39[0m
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
